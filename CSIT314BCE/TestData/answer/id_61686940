<p>Based on <a href="https://news.ycombinator.com/item?id=23118278" rel="noreferrer">links posted by JonathonW</a>, the answer basically boils down to: "There's a big list of Japanese words and Chrome checks to see if you double-clicked in a word."</p>

<p>Specifically, v8 uses <a href="https://github.com/unicode-org/icu" rel="noreferrer">ICU</a> to do a bunch of Unicode-related text processing things, <a href="https://chromium.googlesource.com/v8/v8/+/refs/heads/master/src/objects/js-break-iterator.cc#75" rel="noreferrer">including breaking text up into words</a>. The ICU boundary-detection code includes a <a href="http://userguide.icu-project.org/boundaryanalysis" rel="noreferrer">"Dictionary-Based BreakIterator"</a> for languages that don't have spaces, including Japanese, Chinese, Thai, etc.</p>

<p>And for your specific example of "薄暗い", you can find that word in the combined <a href="https://github.com/unicode-org/icu/tree/master/icu4c/source/data/brkitr/dictionaries" rel="noreferrer">Chinese-Japanese dictionary shipped by ICU</a> (line 255431). There are currently 315,671 total Chinese/Japanese words in the list. Presumably if you find a word that Chrome doesn't split properly, you could send ICU a patch to add that word.</p>

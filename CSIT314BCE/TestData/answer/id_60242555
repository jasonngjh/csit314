<p>Extended function for checking if element is visible, display none, or even the opacity level. </p>

<p>Returns <code>false</code> if the element is not visible.</p>

<pre><code>function checkVisible(e) {
    if (!(e instanceof Element)) throw Error('not an Element');
    const elementStyle = getComputedStyle(e);
    if (elementStyle.display === 'none' || elementStyle.visibility !== 'visible' || elementStyle.opacity &lt; 0.1) return false;
    if (e.offsetWidth + e.offsetHeight + e.getBoundingClientRect().height +
        e.getBoundingClientRect().width === 0) {
        return false;
    }
    const eCenter   = {
        x: e.getBoundingClientRect().left + e.offsetWidth / 2,
        y: e.getBoundingClientRect().top + e.offsetHeight / 2
    };
    if (elemCenter.x &lt; 0 || elemCenter.y &lt; 0) return false;
    if (elemCenter.x &gt; (document.documentElement.clientWidth || window.innerWidth)) return false;
    if (elemCenter.y &gt; (document.documentElement.clientHeight || window.innerHeight)) return false;
    let pointContainer = document.elementFromPoint(elemCenter.x, elemCenter.y);
    do {
        if (pointContainer === elem) return true;
    } while (pointContainer = pointContainer.parentNode);
    return false;
}
</code></pre>
